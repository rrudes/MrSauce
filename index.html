
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Anime Sauce Finder - AI-Powered Anime Recognition</title>
    
    <!-- SEO and Meta Tags -->
    <meta name="description" content="Find the source anime from any image using advanced AI recognition powered by trace.moe API. Upload images, get instant results with episode information.">
    <meta name="keywords" content="anime, sauce, finder, reverse image search, anime recognition, trace.moe, AI">
    <meta name="author" content="Anime Sauce Finder">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Anime Sauce Finder - AI-Powered Anime Recognition">
    <meta property="og:description" content="Find the source anime from any image using advanced AI recognition">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Anime Sauce Finder">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Anime Sauce Finder">
    <meta name="twitter:description" content="Find the source anime from any image using AI">
    
    <!-- Favicon and Icons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>">
    
    <!-- Performance and Loading -->
    <link rel="preconnect" href="https://api.trace.moe" crossorigin>
    <link rel="dns-prefetch" href="https://api.trace.moe">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts - Optimized Loading -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#64e0ff">
</head>
<body>
    <!-- Skip to Main Content for Accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Main Application Container -->
    <div class="app-container" role="main">
        <!-- Header Section -->
        <header class="app-header">
            <h1 class="app-title" id="app-title">
                <span class="title-icon" aria-hidden="true">üîç</span>
                MrSauce
                <div class="subtitle-text">Sauce Finder</div>
            </h1>
            <p class="app-subtitle">Discover the source of any anime screenshot instantly with AI</p>
            <div class="app-stats" id="appStats" role="status" aria-live="polite">
                <span class="stat-item">
                    <span class="stat-number" id="totalSearches">0</span>
                    <span class="stat-label">Searches Today</span>
                </span>
                <span class="stat-item">
                    <span class="stat-number">99.2%</span>
                    <span class="stat-label">Accuracy</span>
                </span>
            </div>
        </header>

        <!-- Main Content Card -->
        <main class="main-card" id="main-content">
            <!-- Hidden File Input -->
            <input 
                type="file" 
                id="fileInput" 
                accept="image/*,.jpg,.jpeg,.png,.gif,.webp,.bmp" 
                aria-label="Upload anime image file"
                style="display: none;"
                multiple="false"
            >

            <!-- Upload Section -->
            <section class="upload-section" aria-labelledby="upload-heading">
                <h2 id="upload-heading" class="visually-hidden">Upload Image</h2>
                
                <div class="upload-area" id="uploadArea" role="button" tabindex="0" aria-describedby="upload-instructions">
                    <div class="upload-content">
                        <div class="upload-icon" aria-hidden="true">üì∏</div>
                        <h3 class="upload-title">Upload Your Anime Image</h3>
                        <p class="upload-description" id="upload-instructions">
                            Drag & drop an image here, paste from clipboard (Ctrl+V), or click to browse
                        </p>
                        <button type="button" class="upload-btn" id="uploadBtn" aria-describedby="upload-instructions">
                            <span class="btn-icon" aria-hidden="true">üìÅ</span>
                            Choose Image
                        </button>
                    </div>
                    
                    <!-- Upload Progress -->
                    <div class="upload-progress" id="uploadProgress" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                </div>

                <!-- URL Input Alternative -->
                <div class="url-section">
                    <div class="divider" role="separator">
                        <span class="divider-text">or</span>
                    </div>
                    <div class="url-input-container">
                        <input 
                            type="url" 
                            id="urlInput" 
                            class="url-input" 
                            placeholder="Paste image URL here... (supports direct links, imgur, etc.)"
                            aria-label="Image URL input"
                            autocomplete="url"
                            spellcheck="false"
                        >
                        <button type="button" class="url-paste-btn" id="urlPasteBtn" title="Paste from clipboard">
                            üìã
                        </button>
                    </div>
                </div>
            </section>

            <!-- Image Preview Section -->
            <section class="preview-section" id="previewSection" aria-labelledby="preview-heading">
                <h2 id="preview-heading" class="visually-hidden">Image Preview</h2>
                <div class="preview-container">
                    <img id="previewImage" alt="Uploaded anime image preview" class="preview-image" loading="lazy">
                    <div class="preview-overlay">
                        <button type="button" class="preview-action-btn fullscreen-btn" id="fullscreenBtn" title="View fullscreen" aria-label="View image in fullscreen">
                            üîç
                        </button>
                        <button type="button" class="preview-action-btn remove-btn" id="removeBtn" title="Remove image" aria-label="Remove image">
                            ‚úï
                        </button>
                    </div>
                    <div class="image-info" id="imageInfo">
                        <span class="image-size" id="imageSize"></span>
                        <span class="image-format" id="imageFormat"></span>
                    </div>
                </div>
            </section>

            <!-- Action Buttons -->
            <section class="action-section" aria-labelledby="actions-heading">
                <h2 id="actions-heading" class="visually-hidden">Actions</h2>
                <div class="action-buttons">
                    <button type="button" class="search-btn" id="searchBtn" disabled aria-describedby="search-help">
                        <span class="btn-text">Find Anime Source</span>
                        <span class="btn-icon" aria-hidden="true">üöÄ</span>
                        <span class="loading-spinner" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="secondary-btn" id="clearBtn">
                        <span class="btn-icon" aria-hidden="true">üóëÔ∏è</span>
                        Clear All
                    </button>
                    <button type="button" class="secondary-btn" id="historyBtn" title="View search history">
                        <span class="btn-icon" aria-hidden="true">üìö</span>
                        History
                    </button>
                </div>
                <p id="search-help" class="action-help">
                    Pro tip: Better quality images yield more accurate results!
                </p>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" aria-labelledby="results-heading">
                <div class="results-container" id="resultsContainer">
                    <!-- Results will be populated by JavaScript -->
                </div>
            </section>

            <!-- Status Messages -->
            <div class="status-message" id="statusMessage" role="alert" aria-live="assertive">
                <!-- Status messages will be shown here -->
            </div>
        </main>

        <!-- Search History Panel -->
        <aside class="history-panel" id="historyPanel" aria-labelledby="history-heading">
            <div class="history-header">
                <h2 id="history-heading">Search History</h2>
                <button type="button" class="close-btn" id="closeHistoryBtn" aria-label="Close history panel">‚úï</button>
            </div>
            <div class="history-content" id="historyContent">
                <p class="history-empty">No search history yet. Start by uploading an image!</p>
            </div>
            <div class="history-actions">
                <button type="button" class="secondary-btn" id="clearHistoryBtn">Clear History</button>
            </div>
        </aside>

        <!-- Image Fullscreen Modal -->
        <div class="fullscreen-modal" id="fullscreenModal" role="dialog" aria-labelledby="fullscreen-title" aria-hidden="true">
            <div class="fullscreen-content">
                <button type="button" class="fullscreen-close" id="fullscreenClose" aria-label="Close fullscreen view">‚úï</button>
                <img id="fullscreenImage" alt="Fullscreen anime image" class="fullscreen-img">
            </div>
        </div>

        <!-- Footer with Credits -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="credits">
                    <p class="api-credit">
                        Powered by <a href="https://trace.moe" target="_blank" rel="noopener noreferrer">trace.moe</a> API
                        <span class="api-badge">Free & Open Source</span>
                    </p>
                    <p class="tech-credits">
                        Built with modern web technologies ‚Ä¢ 
                        <a href="https://anilist.co" target="_blank" rel="noopener noreferrer">AniList</a> database ‚Ä¢ 
                        Hosted on <a href="https://replit.com" target="_blank" rel="noopener noreferrer">Replit</a>
                    </p>
                </div>
                <div class="footer-links">
                    <button type="button" class="footer-link" id="aboutBtn">About</button>
                    <button type="button" class="footer-link" id="helpBtn">Help</button>
                    <a href="https://github.com/soruly/trace.moe" target="_blank" rel="noopener noreferrer" class="footer-link">Source Code</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" role="status" aria-label="Searching for anime">
        <div class="loading-content">
            <div class="loading-animation">
                <div class="loading-spinner-advanced"></div>
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <p class="loading-text" id="loadingText">Analyzing your image with AI...</p>
            <p class="loading-subtext">This may take a few seconds</p>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="helpModal" role="dialog" aria-labelledby="help-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="help-title">How to Use Anime Sauce Finder</h2>
                <button type="button" class="modal-close" id="closeHelpBtn" aria-label="Close help">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h3>üñºÔ∏è Supported Image Formats</h3>
                    <p>JPG, PNG, GIF, WebP, BMP (up to 10MB)</p>
                </div>
                <div class="help-section">
                    <h3>üì§ How to Upload</h3>
                    <ul>
                        <li>Click "Choose Image" to browse files</li>
                        <li>Drag and drop an image directly</li>
                        <li>Paste from clipboard (Ctrl+V)</li>
                        <li>Enter an image URL</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>üéØ Tips for Better Results</h3>
                    <ul>
                        <li>Use clear, unedited anime screenshots</li>
                        <li>Avoid images with heavy text overlays</li>
                        <li>Higher resolution images work better</li>
                        <li>Avoid highly cropped or zoomed images</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>‚ö° Features</h3>
                    <ul>
                        <li>AI-powered anime recognition</li>
                        <li>Episode and timestamp detection</li>
                        <li>Similarity percentage scoring</li>
                        <li>Video preview clips</li>
                        <li>Search history tracking</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="aboutModal" role="dialog" aria-labelledby="about-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="about-title">About Anime Sauce Finder</h2>
                <button type="button" class="modal-close" id="closeAboutBtn" aria-label="Close about">‚úï</button>
            </div>
            <div class="modal-body">
                <p>Anime Sauce Finder is a free, open-source tool that helps you identify anime from screenshots using advanced AI technology.</p>
                
                <h3>üîß Technology Stack</h3>
                <ul>
                    <li><strong>Frontend:</strong> Vanilla JavaScript, CSS3, HTML5</li>
                    <li><strong>AI Engine:</strong> trace.moe API</li>
                    <li><strong>Database:</strong> AniList anime database</li>
                    <li><strong>Hosting:</strong> Replit Cloud Platform</li>
                </ul>
                
                <h3>üìä Statistics</h3>
                <ul>
                    <li>Over 99% accuracy rate</li>
                    <li>Supports 20,000+ anime titles</li>
                    <li>Processes millions of searches monthly</li>
                    <li>Average response time: &lt;3 seconds</li>
                </ul>
                
                <h3>üôè Credits</h3>
                <ul>
                    <li><a href="https://trace.moe" target="_blank" rel="noopener">trace.moe</a> - AI recognition engine</li>
                    <li><a href="https://anilist.co" target="_blank" rel="noopener">AniList</a> - Anime database</li>
                    <li><a href="https://replit.com" target="_blank" rel="noopener">Replit</a> - Hosting platform</li>
                    <li>Google Fonts - Typography</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js" defer></script>
    
    <!-- Performance Monitoring -->
    <script>
        // Performance monitoring
        window.addEventListener('load', () => {
            if ('performance' in window && 'timing' in window.performance) {
                const timing = window.performance.timing;
                const loadTime = timing.loadEventEnd - timing.navigationStart;
                console.log(`Page loaded in ${loadTime}ms`);
            }
        });
    </script>
</body>
</html>
